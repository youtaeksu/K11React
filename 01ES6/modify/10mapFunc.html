<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<!-- 
    map()함수
        : 콜백함수를 실행한 결과를 통해 새로운 배열을 만들때 사용한다. 
        형식] filter()와 동일하다.       
 -->
<script type="text/javascript">
  
    //기존배열의 각 원소에 2를 곱한 결과를 통해 새로운 배열을 생성한다.
    console.error("mapTest1() called..기본사용법");    
    (function mapTest1(){
        var testArray = [1,2,3,4,5];
        var newArray = testArray.map(
            function(currentVal, index, array){
                console.log(currentVal);
                console.log(index);
                console.log(array);
                return currentVal*2;
            });
        console.log(newArray);
    })();

 
    /*
    객체형 JSON배열의 각 원소를 이용해서, 각 원의 name을 key로 salary를 value로
    사용하는 새로운 JSON객체를 생성한다 
    */
    console.error("mapTest2() called..JSON객체 배열 활용하기");    
    (function mapTest2(){
        var oldJSON = [
                        {name : "이건", salary : 50000000},
                        {name : "홍길동", salary : 1000000},
                        {name : "임신구", salary : 3000000},
                        {name : "이승룡", salary : 2000000}
                    ];
    
        var newJson = oldJSON.map(function(currentVal, index, array){
            console.log(currentVal);
            //빈 객체 생성
            var returnObj = {}
            //key로 name, value로 salary를 지정하여 객체를 생성한다.
            returnObj[currentVal.name] = currentVal.salary;
            return returnObj;
        });
        console.log(newJson);
    })(); 
</script>
</body>
</html>